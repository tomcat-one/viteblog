# å‰ç«¯å·¥ç¨‹åŒ–

## æ¦‚è¿°

æœ¬æ–‡ä»‹ç»äº†å‰ç«¯é¡¹ç›®ä¸­ä»£ç æ ¼å¼æ ¡éªŒå·¥å…·ï¼Œä»¥åŠ git æäº¤æ—¶ä»£ç æ ¡éªŒå’Œæäº¤ä¿¡æ¯æ ¡éªŒçš„å·¥å…·çš„ä»‹ç»å’Œé…ç½®ã€‚

åœ¨æ¦‚è¿°ä¸­å°†ç®€å•ä»‹ç»å„ä¸ªå·¥å…·çš„åŠŸèƒ½ä»¥åŠé…ç½®æ–‡ä»¶çš„ä½ç½®ã€‚

### ä»£ç æ ¡éªŒå’Œæ ¼å¼åŒ–

å®ç°çš„åŠŸèƒ½æ˜¯ï¼š

1. æ£€æµ‹ä»£ç æ˜¯å¦æ»¡è¶³è§„åˆ™ï¼Œå¯¹ä¸æ»¡è¶³è§„åˆ™çš„è¿›è¡Œæ ‡çº¢
2. ä¿å­˜ä»£ç çš„æ—¶å€™è‡ªåŠ¨è¿›è¡Œæ ¼å¼åŒ–

ä»£ç æ ¼å¼åŒ–éœ€è¦ä¸¤ä¸ªå·¥å…·æ­é…ä»£ç ç¼–è¾‘å™¨å®Œæˆ

| å·¥å…·åç§° | åŠŸèƒ½                                                                                            | é…ç½®                  |
| -------- | ----------------------------------------------------------------------------------------------- | --------------------- |
| eslint   | æ ¡éªŒä»£ç ã€æ ¼å¼åŒ–ä»£ç ã€‚å…·ä½“çš„æ ¡éªŒè§„åˆ™å®šä¹‰åœ¨é…ç½®æ–‡ä»¶é‡Œ                                            | .eslintrc.js          |
| prettier | æ ¼å¼åŒ–ä»£ç ï¼ˆeslint æ ¼å¼åŒ–èƒ½åŠ›ä¸å¤Ÿï¼‰                                                             | .prettierrc           |
| vscode   | é»˜è®¤ä»£ç é£æ ¼ï¼Œå¦‚é»˜è®¤ç¼©è¿› 4 ä¸ªç©ºæ ¼ï¼Œå­—ä½“å¤§å°ç­‰ä¿å­˜ä»£ç çš„æ—¶å€™æ‰§è¡Œè°ƒç”¨ eslintã€prettier è¿›è¡Œæ ¼å¼åŒ– | .vscode/settings.json |

### git æäº¤çš„ä»£ç å’Œæäº¤ä¿¡æ¯æ ¡éªŒ

å®ç°çš„åŠŸèƒ½æ˜¯ï¼š

1. æ ¡éªŒæš‚å­˜åŒºçš„ä»£ç æ ¼å¼æ˜¯å¦æ»¡è¶³å®šä¹‰çš„è§„åˆ™
2. æ ¡éªŒæäº¤ä¿¡æ¯æ˜¯å¦æ»¡è¶³å®šä¹‰çš„è§„åˆ™

æš‚å­˜åŒºçš„ä»£ç æ ¡éªŒè§„åˆ™æ˜¯ eslint å®šä¹‰çš„è§„åˆ™ï¼Œåªæ˜¯éœ€è¦æ‹¿åˆ°æš‚å­˜åŒºä»£ç çš„é’©å­

æäº¤ä¿¡æ¯æ ¡éªŒåªåšäº†æäº¤ç±»å‹æ ¡éªŒï¼Œåªèƒ½åŒ…å«æŒ‡å®šç±»å‹ï¼šreleaseã€buildã€updateã€docsã€addã€fixã€perfã€refactorã€revertã€styleã€testã€merge

| å·¥å…·åç§°    | åŠŸèƒ½                                                                                                                                                                                                                                                   | é…ç½®                                                                                                                                                                                                                  |
| ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| husky       | æä¾› git é’©å­ï¼Œä¸»è¦ç”¨åˆ°äº†ä¸¤ä¸ªé’©å­ï¼Œpre-commitï¼Œcommit-msgpre-commit æ˜¯æäº¤å‰æ‹¿åˆ°æš‚å­˜åŒºçš„ä»£ç çš„é’©å­ï¼Œåœ¨è¿™é‡Œä¼šåšä¸€æ¬¡ä»£ç æ ¡éªŒï¼Œå¤„ç†è¿™ä¸ªé’©å­ç”¨åˆ°çš„å·¥å…·æ˜¯ lint-stagedcommit-msg æ˜¯æäº¤ä¿¡æ¯çš„é’©å­ï¼Œåœ¨è¿™é‡Œä¼šæ ¡éªŒæäº¤ä¿¡æ¯ï¼Œå¤„ç†è¿™ä¸ªé’©å­ç”¨åˆ°çš„å·¥å…·æ˜¯ commitlint | .husky/pre-commit.husky/commit-msg                                                                                                                                                                                    |
| lint-staged | æ ¡éªŒæš‚å­˜åŒºä»£ç                                                                                                                                                                                                                                          | package.json`{  ...  "lint-staged": {        "*.js, *.ts, *.vue, *.jsx, *.tsx": [            "eslint --fix",            "prettier"        ],        "*.md, *.less, *.scss": [            "prettier"        ]    }, }` |
| commitlint  | æ ¡éªŒæäº¤ä¿¡æ¯                                                                                                                                                                                                                                           | commitlint.config.jk                                                                                                                                                                                                  |

### äº¤äº’å¼æäº¤å·¥å…·

æä¾›äº†ä¸€ä¸ªç»ˆç«¯äº¤äº’å¼æäº¤å·¥å…·ï¼Œé‡‡ç”¨ commitizenï¼Œé…åˆé€‚é…å™¨è¿›è¡Œæé—®

å…¨å±€å®‰è£… commitizenï¼Œnpm install -g commitizenï¼Œå°±å¯ä»¥ä½¿ç”¨ cz å‘½ä»¤åœ¨ç»ˆç«¯è¿›è¡Œé€‰é¡¹å¼æäº¤
![è¿™æ˜¯å›¾ç‰‡](../../public//project/1.png "Magic Gardens")

é…ç½®çš„è¯ï¼Œéœ€è¦åœ¨package.jsonä¸­æŒ‡å®šé€‚é…å™¨ä½ç½®

```json
{
  ...
  "config": {
    "commitizen": {
        "path": "./cz.cjs"
    }
  }
}
```

cz.jsæ–‡ä»¶é‡Œé¢åŒ…å«äº†æé—®çš„ä¿¡æ¯ï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ï¼Œä¹Ÿå¯ä»¥ç”¨ç°æœ‰å¼€æºçš„é€‚é…å™¨ï¼Œå¦‚cz-gitã€‚

## å‰ç«¯å·¥ç¨‹åŒ–æ¦‚è¿°

å‰ç«¯å·¥ç¨‹åŒ–æ˜¯æŒ‡ï¼šåœ¨ä¼ä¸šçº§çš„å‰ç«¯é¡¹ç›®å¼€å‘ä¸­ï¼ŒæŠŠå‰ç«¯å¼€å‘æ‰€éœ€çš„å·¥å…·ã€æŠ€æœ¯ã€æµç¨‹ã€ç»éªŒç­‰è¿›è¡Œè§„èŒƒåŒ–ã€æ ‡å‡†åŒ–ã€‚

å°±åƒæ˜¯å¾€ä¸€ä¸ªæ‚ç‰©é—´å­˜ä¸œè¥¿ï¼Œå½“ä¸œè¥¿æ¯”è¾ƒå°‘ï¼Œéšä¾¿ä¹±ä¸¢éƒ½æ‰¾å¾—åˆ°ï¼Œä½†æ˜¯å½“ä¸œè¥¿æ•°é‡å¤šèµ·æ¥ï¼Œæ‰¾èµ·æ¥å°±ä¸å®¹æ˜“äº†ã€‚è¿™ä¸ªæ—¶å€™å¦‚æœæœ‰ä¸ªæŸœå­ä¹‹ç±»çš„å·¥å…·å°±å¯ä»¥æ›´å¥½åˆ†ç±»ï¼Œä»¥ä¾¿æŸ¥æ‰¾çš„æ—¶å€™æ›´å¿«é€Ÿã€‚

å‰ç«¯å·¥ç¨‹åŒ–åœ¨é¡¹ç›®é€æ¸å£®å¤§èµ·æ¥çš„æ—¶å€™æ˜¯æœ‰å¿…è¦çš„ï¼Œéšæ„æ•£ä¹±çš„ç»“æ„å’Œå¸ƒå±€ä¼šä½¿å¾—ç»´æŠ¤å›°éš¾ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€äº›æ–¹æ³•å’Œå·¥å…·å¸®åŠ©æˆ‘ä»¬å®ç°å‰ç«¯å·¥ç¨‹åŒ–ã€‚

## ä»£ç è§„èŒƒ

ä»£ç è§„èŒƒæ˜¯å‰ç«¯å·¥ç¨‹åŒ–çš„ä¸€ä¸ªæ–¹é¢ï¼Œä»£ç è§„èŒƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç»Ÿä¸€å›¢é˜Ÿä»£ç é£æ ¼ï¼Œé™ä½é˜…è¯»éš¾åº¦ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å€ŸåŠ©å·¥å…·æå‰å‘ç°éƒ¨åˆ†é”™è¯¯ï¼Œå¹¶ä¿®å¤ã€‚

ä»£ç è§„èŒƒä¸»è¦è§£å†³çš„é—®é¢˜æ˜¯ï¼šä¿è¯ç¼–ç é£æ ¼ä¸€è‡´ï¼Œä½¿é¡¹ç›®æ˜“äºç»´æŠ¤ï¼Œå› ä¸ºå›¢é˜Ÿå†…ä»»ä½•äººéƒ½å¯ä»¥å¿«é€Ÿç†è§£å¹¶ä¿®æ”¹ã€‚

è¿™é‡Œæˆ‘ä»¬é’ˆå¯¹ä¸¤æ–¹é¢è¿›è¡Œè§„èŒƒï¼š

> ä¸€æ˜¯ä»£ç æ ¼å¼è§„èŒƒï¼Œå¦‚ä»£ç ç¼©è¿›ç»Ÿä¸€ï¼ˆä¸€ä¸ªtabæˆ–è€…ä¸¤ä¸ªç©ºæ ¼ï¼‰ï¼›
>
> äºŒæ˜¯`git`æäº¤è§„èŒƒï¼Œè¿›è¡Œä»£ç æ£€æŸ¥ä»¥åŠæäº¤ä¿¡æ¯è§„èŒƒï¼Œä¾‹å¦‚æäº¤ä¿¡æ¯`fix: ä¿®å¤xxxï¼Œxxx`

**åˆå§‹åŒ–ä¸€é”®ä»£ç æ ¡éªŒã€æ ¼å¼åŒ–ã€gitæäº¤æ£€éªŒã€è¾…åŠ©æäº¤å·¥å…·**



```plain
yarn add -D eslint eslint-plugin-vue prettier eslint-config-prettier eslint-plugin-prettier husky lint-staged commitlint commitizen editor temp word-wrap find-config
```



### 1. ä»£ç æ ¼å¼è§„èŒƒ



ä»£ç æ ¼å¼è§„èŒƒé—®é¢˜ï¼Œæˆ‘ä»¬é€šè¿‡ `ESLint` + `Prettier` + `VSCode é…ç½®` é…åˆè¿›è¡Œå¤„ç†ï¼Œæœ€ç»ˆè¾¾åˆ°äº†åœ¨ä¿å­˜ä»£ç æ—¶ï¼Œè‡ªåŠ¨è§„èŒƒåŒ–ä»£ç æ ¼å¼çš„ç›®çš„ã€‚

`Eslint`æ˜¯ä»€ä¹ˆï¼Ÿå®ƒå’Œ`Prettier`æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿä¸€å¼€å§‹ï¼Œæˆ‘ä»¥ä¸ºä»–ä¿©å¹²çš„æ˜¯åŒä¸€ä»¶äº‹â€”â€”æ ¼å¼åŒ–ä»£ç ã€‚

å…¶å®å¯ä»¥ç®€å•è¿™æ ·ç†è§£ï¼ŒäºŒè€…é…åˆçš„ç›®çš„å°±æ˜¯è®©æˆ‘ä»¬çš„ä»£ç æ»¡è¶³æŒ‡å®šçš„æ ¼å¼ã€‚

`Eslint`å…·å¤‡çš„ä½œç”¨æ˜¯ï¼š

- æ£€æŸ¥è¯­æ³•
- æ‰¾åˆ°é—®é¢˜
- ä¿®å¤é—®é¢˜

æˆ‘ä»¬ä½¿ç”¨`eslint`æ¥å®ç°è¯­æ³•æ£€æŸ¥ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå˜é‡å®šä¹‰åæœªä½¿ç”¨ä¼šæŠ¥é”™ã€‚

å¯¹äºæ ¼å¼åŒ–çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬éœ€è¦å€ŸåŠ©`prettier`è¾…åŠ©ï¼Œå°†`prettier`é›†æˆåˆ°`eslint`ä¸Šï¼Œå¯ä»¥å®Œæˆä¸€äº›`eslint`æ— æ³•ä¿®å¤çš„æ ¼å¼ï¼Œæ¯”å¦‚ï¼Œå½“æŸä¸€è¡Œä»£ç è¶…è¿‡é•¿åº¦è§„åˆ™é™åˆ¶ï¼Œ`eslint`åªä¼šç»™ä¸€ä¸ª`warning`ï¼Œè€Œ`prettier`ä¼šæ ¼å¼åŒ–å®ƒã€‚è¯¦ç»†å¯å‚è€ƒï¼šhttps://github.com/prettier/prettier-eslint/issues/101

**æ³¨æ„ï¼šç¼–è¾‘å™¨éœ€è¦å®‰è£…eslintå’Œprettieræ’ä»¶**

ç¼–è¾‘å™¨å®‰è£…`eslint`æ’ä»¶å¯ä»¥å¯¹ä¸æ»¡è¶³è§„åˆ™çš„è¯­å¥**æ³¢æµªçº¿æ ‡çº¢**ï¼Œ`prettier`æ’ä»¶å¯ä»¥é…åˆ`vscode`è®¾ç½®å®ç°ä¿å­˜ä»£ç æ—¶**è‡ªåŠ¨æ ¼å¼åŒ–**

##### 1.1 ä»£ç æ£€æŸ¥å·¥å…·`Eslint`

```plain
yarn add -D eslint eslint-plugin-vue

npx eslint --init
```

```
init` å‘½ä»¤ä¼šè‡ªåŠ¨ç”Ÿæˆ `.eslintrc.js
```

æˆ‘ä»¬ç›´æ¥CVç°æœ‰çš„é…ç½®ï¼ˆåç»­æ ¹æ®éœ€è¦è°ƒæ•´ï¼‰ï¼š

```plain
module.exports = {
    root: true,
    ignorePatterns: ['node_moduls/*'],
    env: {
        browser: true,
        es2021: true,
        node: true,
        commonjs: true
    },
    extends: ['eslint:recommended', 'plugin:vue/essential', 'prettier'],
    overrides: [],
    parserOptions: {
        ecmaVersion: 'latest',
        sourceType: 'module'
    },
    plugins: ['vue', 'prettier'],
    rules: {
        'linebreak-style': ['error', 'unix'],
        'no-multiple-empty-lines': [1, { max: 2 }], //ç©ºè¡Œæœ€å¤šä¸èƒ½è¶…è¿‡2è¡Œ
        'vue/multi-word-component-names': 'off' //vueç»„ä»¶åå»æ‰å¤šå•è¯é™åˆ¶
    }
}
```

###### 1.1.1 `eslint`è§„åˆ™

`.eslintrc.js` æ–‡ä»¶`rule`è§„åˆ™å‚è€ƒï¼š(æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨`eslint`ä¸­æ§åˆ¶è¯­æ³•å±‚é¢çš„ï¼Œæ ·å¼é£æ ¼äº¤ç»™`prettier`)

[æ‰€æœ‰è§„åˆ™çš„è¯´æ˜](https://link.zhihu.com/?target=https%3A//cn.eslint.org/docs/rules/)ï¼Œ[ä¸­æ–‡è¯¦è§£ï¼ˆæ¯æ¡è§„åˆ™ï¼‰](http://www.verydoc.net/eslint/00003312.html)

| rule                                                         | ä»‹ç»                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| [ for-direction](https://cn.eslint.org/docs/rules/for-direction) | å¼ºåˆ¶ â€œforâ€ å¾ªç¯ä¸­æ›´æ–°å­å¥çš„è®¡æ•°å™¨æœç€æ­£ç¡®çš„æ–¹å‘ç§»åŠ¨          |
| [getter-return](https://cn.eslint.org/docs/rules/getter-return) | å¼ºåˆ¶ getter å‡½æ•°ä¸­å‡ºç° `return` è¯­å¥                         |
| [no-async-promise-executor](https://cn.eslint.org/docs/rules/no-async-promise-executor) | ç¦æ­¢ä½¿ç”¨å¼‚æ­¥å‡½æ•°ä½œä¸º Promise executor                        |
| [no-await-in-loop](https://cn.eslint.org/docs/rules/no-await-in-loop) | ç¦æ­¢åœ¨å¾ªç¯ä¸­å‡ºç° `await`                                     |
| [no-compare-neg-zero](https://cn.eslint.org/docs/rules/no-compare-neg-zero) | ç¦æ­¢ä¸ -0 è¿›è¡Œæ¯”è¾ƒ                                           |
| [no-cond-assign](https://cn.eslint.org/docs/rules/no-cond-assign) | ç¦æ­¢æ¡ä»¶è¡¨è¾¾å¼ä¸­å‡ºç°èµ‹å€¼æ“ä½œç¬¦                               |
| [no-console](https://cn.eslint.org/docs/rules/no-console)    | ç¦ç”¨ `console`                                               |
| [no-constant-condition](https://cn.eslint.org/docs/rules/no-constant-condition) | ç¦æ­¢åœ¨æ¡ä»¶ä¸­ä½¿ç”¨å¸¸é‡è¡¨è¾¾å¼                                   |
| [no-control-regex](https://cn.eslint.org/docs/rules/no-control-regex) | ç¦æ­¢åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ä½¿ç”¨æ§åˆ¶å­—ç¬¦                               |
| [no-debugger](https://cn.eslint.org/docs/rules/no-debugger)  | ç¦ç”¨ `debugger`                                              |
| [no-dupe-args](https://cn.eslint.org/docs/rules/no-dupe-args) | ç¦æ­¢ `function` å®šä¹‰ä¸­å‡ºç°é‡åå‚æ•°                           |
| [no-dupe-keys](https://cn.eslint.org/docs/rules/no-dupe-keys) | ç¦æ­¢å¯¹è±¡å­—é¢é‡ä¸­å‡ºç°é‡å¤çš„ key                               |
| [no-duplicate-case](https://cn.eslint.org/docs/rules/no-duplicate-case) | ç¦æ­¢å‡ºç°é‡å¤çš„ case æ ‡ç­¾                                     |
| [no-empty](https://cn.eslint.org/docs/rules/no-empty)        | ç¦æ­¢å‡ºç°ç©ºè¯­å¥å—                                             |
| [no-empty-character-class](https://cn.eslint.org/docs/rules/no-empty-character-class) | ç¦æ­¢åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ä½¿ç”¨ç©ºå­—ç¬¦é›†                               |
| [no-ex-assign](https://cn.eslint.org/docs/rules/no-ex-assign) | ç¦æ­¢å¯¹ `catch` å­å¥çš„å‚æ•°é‡æ–°èµ‹å€¼                            |
| [no-extra-boolean-cast](https://cn.eslint.org/docs/rules/no-extra-boolean-cast) | ç¦æ­¢ä¸å¿…è¦çš„å¸ƒå°”è½¬æ¢                                         |
| [no-extra-parens](https://cn.eslint.org/docs/rules/no-extra-parens) | ç¦æ­¢ä¸å¿…è¦çš„æ‹¬å·                                             |
| [no-extra-semi](https://cn.eslint.org/docs/rules/no-extra-semi) | ç¦æ­¢ä¸å¿…è¦çš„åˆ†å·                                             |
| [no-func-assign](https://cn.eslint.org/docs/rules/no-func-assign) | ç¦æ­¢å¯¹ `function` å£°æ˜é‡æ–°èµ‹å€¼                               |
| [no-inner-declarations](https://cn.eslint.org/docs/rules/no-inner-declarations) | ç¦æ­¢åœ¨åµŒå¥—çš„å—ä¸­å‡ºç°å˜é‡å£°æ˜æˆ– `function` å£°æ˜               |
| [no-invalid-regexp](https://cn.eslint.org/docs/rules/no-invalid-regexp) | ç¦æ­¢ `RegExp` æ„é€ å‡½æ•°ä¸­å­˜åœ¨æ— æ•ˆçš„æ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²           |
| [no-irregular-whitespace](https://cn.eslint.org/docs/rules/no-irregular-whitespace) | ç¦æ­¢ä¸è§„åˆ™çš„ç©ºç™½                                             |
| [no-misleading-character-class](https://cn.eslint.org/docs/rules/no-misleading-character-class) | ä¸å…è®¸åœ¨å­—ç¬¦ç±»è¯­æ³•ä¸­å‡ºç°ç”±å¤šä¸ªä»£ç ç‚¹ç»„æˆçš„å­—ç¬¦               |
| [no-obj-calls](https://cn.eslint.org/docs/rules/no-obj-calls) | ç¦æ­¢æŠŠå…¨å±€å¯¹è±¡ä½œä¸ºå‡½æ•°è°ƒç”¨                                   |
| [no-prototype-builtins](https://cn.eslint.org/docs/rules/no-prototype-builtins) | ç¦æ­¢ç›´æ¥è°ƒç”¨ `Object.prototypes` çš„å†…ç½®å±æ€§                  |
| [no-regex-spaces](https://cn.eslint.org/docs/rules/no-regex-spaces) | ç¦æ­¢æ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡ä¸­å‡ºç°å¤šä¸ªç©ºæ ¼                           |
| [no-sparse-arrays](https://cn.eslint.org/docs/rules/no-sparse-arrays) | ç¦ç”¨ç¨€ç–æ•°ç»„                                                 |
| [no-template-curly-in-string](https://cn.eslint.org/docs/rules/no-template-curly-in-string) | ç¦æ­¢åœ¨å¸¸è§„å­—ç¬¦ä¸²ä¸­å‡ºç°æ¨¡æ¿å­—é¢é‡å ä½ç¬¦è¯­æ³•                   |
| [no-unexpected-multiline](https://cn.eslint.org/docs/rules/no-unexpected-multiline) | ç¦æ­¢å‡ºç°ä»¤äººå›°æƒ‘çš„å¤šè¡Œè¡¨è¾¾å¼                                 |
| [no-unreachable](https://cn.eslint.org/docs/rules/no-unreachable) | ç¦æ­¢åœ¨ `return`ã€`throw`ã€`continue` å’Œ `break` è¯­å¥ä¹‹åå‡ºç°ä¸å¯è¾¾ä»£ç  |
| [no-unsafe-finally](https://cn.eslint.org/docs/rules/no-unsafe-finally) | ç¦æ­¢åœ¨ `finally` è¯­å¥å—ä¸­å‡ºç°æ§åˆ¶æµè¯­å¥                      |
| [no-unsafe-negation](https://cn.eslint.org/docs/rules/no-unsafe-negation) | ç¦æ­¢å¯¹å…³ç³»è¿ç®—ç¬¦çš„å·¦æ“ä½œæ•°ä½¿ç”¨å¦å®šæ“ä½œç¬¦                     |
| [require-atomic-updates](https://cn.eslint.org/docs/rules/require-atomic-updates) | ç¦æ­¢ç”±äº `await` æˆ– `yield`çš„ä½¿ç”¨è€Œå¯èƒ½å¯¼è‡´å‡ºç°ç«æ€æ¡ä»¶çš„èµ‹å€¼ |
| [use-isnan](https://cn.eslint.org/docs/rules/use-isnan)      | è¦æ±‚ä½¿ç”¨ `isNaN()` æ£€æŸ¥ `NaN`                                |
| [valid-typeof](https://cn.eslint.org/docs/rules/valid-typeof) | å¼ºåˆ¶ `typeof` è¡¨è¾¾å¼ä¸æœ‰æ•ˆçš„å­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒ                   |

###### 1.1.2 `eslint`æ‰©å±•

åœ¨`.eslintrc.js`ä¸­`rules`ç”¨æ¥é…ç½®`ESLint`çš„è§„åˆ™ï¼Œå…·ä½“é…ç½®è§„åˆ™çš„æ–¹æ³•è¯·å‚è€ƒå®˜ç½‘ [å¦‚ä½•é…ç½®è§„åˆ™](https://link.zhihu.com/?target=https%3A//cn.eslint.org/docs/user-guide/configuring%23configuring-rules) ä»¥åŠ [æ‰€æœ‰è§„åˆ™çš„è¯´æ˜](https://link.zhihu.com/?target=https%3A//cn.eslint.org/docs/rules/)ï¼Œè¿™é‡Œä¸ä½œè¯¦ç»†ä»‹ç»ï¼ŒåŒæ ·ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œ`ESLint`ä½¿ç”¨`extends`é…ç½®æ¥ä¸€æ¬¡æ€§ç”Ÿæ•ˆä¸€æ•´å¥—è§„åˆ™ã€‚

`ESint`æ”¯æŒ**ä¸‰ç§ç±»å‹**çš„æ‰©å±•ï¼š

- `eslint:` å¼€å¤´çš„ `ESLint`å®˜æ–¹æ‰©å±•
  åŒ…æ‹¬ `eslint:recommended` å’Œ `eslint:all`ï¼Œå…¶ä¸­ `eslint:recommended`æ˜¯æ¨èçš„ä¸€å¥—è§„åˆ™ï¼Œ`eslint:all` æ˜¯ `ESLint`ä¸­çš„æ‰€æœ‰è§„åˆ™ï¼Œä¸æ¨èä½¿ç”¨ï¼Œå› ä¸ºå¯èƒ½éšæ—¶è¢« `ESLint`æ›´æ”¹ã€‚
- å…±äº«çš„æ‰©å±•
  é€šè¿‡ `npm` åŒ…æä¾›ä¸€å¥—å…±äº«çš„é…ç½®ï¼ŒåŒ…åå‰ç¼€å¿…é¡»ä¸º`eslint-config-`ï¼Œ`extends`å±æ€§å€¼å¯ä»¥çœç•¥åŒ…åçš„å‰ç¼€`eslint-config-`ã€‚ `package.json` ä¸­ `eslint-config-standard` è¿™ä¸ªåŒ…æä¾›çš„ä¸€å¥—è§„åˆ™ã€‚
- æ’ä»¶ä¸­æä¾›çš„æ‰©å±•
  æˆ‘ä»¬ä½¿ç”¨çš„`eslint-plugin-prettier` æ’ä»¶ï¼Œè¿˜æœ‰`eslint-plugin-vue`æ’ä»¶ï¼Œä»–ä»¬é’ˆå¯¹æŸä¸€ç±»å…·ä½“çš„æ–‡ä»¶è¿›è¡Œæ ¼å¼åŒ–ã€‚

`vue`[æ’ä»¶é…ç½®](https://eslint.vuejs.org/user-guide/#usage)

###### 1.1.3 rulesã€extendsã€plugins

å‚è€ƒæ–‡ç« ï¼š[Eslintä¸­pluginså’Œextendsçš„åŒºåˆ«](https://juejin.cn/post/6859291468138774535)ã€[æ·±å…¥æµ…å‡º Eslintï¼Œå‘Šåˆ« Lint ææƒ§ç—‡](https://juejin.cn/post/7136458949322080292#heading-8)

**rulesï¼š**

å®‰è£… lint å·¥å…·çš„åŸºæœ¬ç›®çš„ï¼Œå°±æ˜¯å¯¹ä»£ç è¿›è¡Œå„ç§é™å®šï¼Œç»Ÿä¸€é£æ ¼ã€‚å› ä¸ºæ¯ä¸ªäººã€æ¯ä¸ªå›¢é˜Ÿè¿½æ±‚çš„é£æ ¼ä¸åŒï¼Œæ‰€ä»¥å·¥å…·ä¹Ÿä¼šæä¾›å„ç§é…ç½®ï¼Œå¸®åŠ©é™å®šä»£ç 

**extendsï¼š**

å¯¹äºä¸åŒé¡¹ç›®ï¼Œå¦‚æœå¸Œæœ›ä½¿ç”¨ç›¸åŒçš„ rulesï¼Œç›´æ¥å¤åˆ¶ç²˜è´´æ˜¾ç„¶ä¸æ˜¯ä¸€ä¸ªå¥½æ–¹æ³•ï¼Œä¸€æ˜¯ rules å¤ªå¤šï¼Œé…ç½®æ–‡ä»¶ä¼šæ˜¾å¾—å¾ˆä¹±ï¼ŒäºŒæ˜¯æ— æ³•åŒæ­¥æ›´æ–°ã€‚

æ¨èä½¿ç”¨çš„æ–¹æ³•æ˜¯æŠŠæ‰€éœ€çš„ rules æŠ½ç¦»æˆä¸€ä¸ª npm åŒ…ï¼Œéœ€è¦çš„æ—¶å€™å†é€šè¿‡ extends å¼•ç”¨ã€‚è€Œä¸”å¯¹äºè¿™äº›æŠ½ç¦»å‡ºæ¥çš„åŒ…ï¼Œæœ‰ç€ç»Ÿä¸€çš„å‘½åè§„èŒƒ

pluginsä¸rulesç»“åˆæ˜¯eslintåŸºç¡€èƒ½åŠ›ï¼Œextendså¯ä»¥çœ‹åšæ˜¯å»é›†æˆä¸€ä¸ªä¸ªé…ç½®æ–¹æ¡ˆçš„æœ€ä½³å®è·µ

å…è®¸ extends å¤šä¸ªæ¨¡å—ï¼Œå¦‚æœè§„åˆ™å†²çªï¼Œä½ç½®é åçš„åŒ…å°†è¦†ç›–å‰é¢çš„ã€‚**rules ä¸­çš„è§„åˆ™ç›¸åŒï¼Œå¹¶ä¸”ä¼˜å…ˆçº§æ’å®šé«˜äº extends**

åŸå…ˆè¿˜éœ€è¦è‡ªå·±ä¸€æ¡æ¡é€‰æ‹©ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥æŠŠå®˜æ–¹é…ç½®å¥½çš„æœ€ä½³å®è·µç›´æ¥æ‹¿æ¥ç”¨ã€‚å¦‚æœç¢°åˆ°å’Œè‡ªå·±é£æ ¼æˆ–è€…è§„èŒƒæœ‰å†²çªçš„è§„åˆ™ï¼Œé‚£ç›´æ¥åœ¨rulesä¸­é‡æ–°å®šä¹‰å°±å¯ä»¥äº†ï¼Œæ¯•ç«Ÿå†²çªçš„è§„åˆ™å¾€å¾€éƒ½æ²¡æœ‰å¤šå°‘ã€‚

extendsæ‰©å±•çš„è§„åˆ™åŒ…å«äº†ä¸€å¥—pluginå’Œrulesï¼Œä½†æ˜¯å’Œé»˜è®¤çš„eslintè§„åˆ™å†²çªçš„æ—¶å€™ï¼Œeslintçš„ç›¸åº”è§„åˆ™ä¼šå¤±æ•ˆï¼Œä¸ä¼šæ£€æŸ¥è¿™æ¡è§„åˆ™ã€‚

**pluginsï¼š**

è™½ç„¶å®˜æ–¹æä¾›äº†å¾ˆå¤šè§„åˆ™ï¼Œä½†æ˜¯æ€»æœ‰è¦†ç›–ä¸åˆ°çš„æƒ…å†µã€‚è¿™æ—¶å€™å¯ä»¥ä½¿ç”¨ plugin å®šä¹‰**è‡ªå·±çš„è§„åˆ™ï¼ˆå¦‚Vueã€Reactï¼‰**

å£°æ˜äº† Plugin æ—¶ä»…è¡¨ç¤ºæˆ‘ä»¬å¼•å…¥äº†è¯¥è§„åˆ™å¯¹åº”çš„é›†åˆï¼Œå¹¶ä¸ä»£è¡¨ä¼šç«‹å³å¯åŠ¨ã€‚éœ€è¦æˆ‘ä»¬**æ‰‹åŠ¨åœ¨** `**rules**` **ä¸­å»å£°æ˜**å¯¹åº”æ’ä»¶çš„è§„åˆ™ã€‚

pluginsåªæ˜¯åŠ è½½äº†æ’ä»¶ï¼Œå¯ä»¥ç†è§£èµ‹äºˆäº†eslintè§£æè§„åˆ™çš„æ£€æŸ¥èƒ½åŠ›ï¼ŒçœŸæ­£å¼€å¯è¿™ä¸ªè§„åˆ™çš„æ£€æŸ¥èƒ½åŠ›è¿˜æ˜¯è¦é€šè¿‡**rulesé…ç½®**ã€‚ï¼ˆä¸€ä¸ªæ’ä»¶åº“é‡Œé¢å¾€å¾€æœ‰å‡ åä¸ªæ–°è§„åˆ™ï¼Œå¹¶ä¸æ˜¯æ¯ä¸€ä¸ªè§„åˆ™éƒ½éœ€è¦å¼€å¯çš„ï¼Œè¿™æ˜¯æ—¶å€™å°±è¦æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥é…ç½®ç›¸å…³æ£€æŸ¥è§„åˆ™ï¼‰

##### 1.2 ä»£ç é£æ ¼å·¥å…·prettier

###### 1.2.1 å®‰è£…å’Œé…ç½®

å®‰è£…å·¥å…·ï¼š

```
yarn add -D prettier eslint-config-prettier eslint-plugin-prettier
```

åˆ›å»º `.prettierrc`

```json
{
    "useTabs": false,
    "tabWidth": 4,
    "printWidth": 80,
    "singleQuote": true,
    "trailingComma": "none",
    "semi": false,
    "endOfLine": "lf"
}
```

###### 1.2.2 è®¾ç½®å¿½ç•¥æ–‡ä»¶

å¯ä»¥è®¾ç½®`.prettierignore`å¿½ç•¥æ–‡ä»¶

```plain
/dist/*
.local
.output.js
/node_modules/**

**/*.svg
**/*.sh
*.lock
package-*.json

/public/*
**/iconSvg/*
**/third_party/*
/docs/*
/.history/*
```

###### 1.2.3 è§£å†³å†²çª

ç”±äº`ESLint`å®šä¹‰äº†ä¸€äº›`js`çš„ä»£ç æ ¼å¼åŒ–çš„çº¦æŸï¼Œå¯¼è‡´å…¶ä¸Prettierå­˜åœ¨ä¸€äº›å†²çªã€‚å¦‚ï¼š

- `ESLint`é»˜è®¤è¯­å¥ç»“å°¾ä¸åŠ åˆ†å·ï¼ŒPrettieré»˜è®¤è¯­å¥ç»“å°¾åŠ åˆ†å·ï¼›
- `ESLint`é»˜è®¤å¼ºåˆ¶ä½¿ç”¨å•å¼•å·ï¼ŒPrettieré»˜è®¤ä½¿ç”¨åŒå¼•å·ï¼›
- `ESLint`é»˜è®¤å¥æœ«å‡å°‘ä¸å¿…è¦çš„é€—å·ï¼ŒPrettieré»˜è®¤å°½å¯èƒ½å¤šä½¿ç”¨é€—å·ç­‰ç­‰

```
eslint-config-prettier`å’Œ`eslint-plugin-prettier
```

- `eslint-config-prettier`ï¼šç¦ç”¨æ‰äº†ä¸€äº›ä¸å¿…è¦çš„ä»¥åŠå’Œ `Prettier` ç›¸å†²çªçš„ `ESLint` è§„åˆ™ï¼›
- `eslint-plugin-prettier`ï¼šå°†`prettier` ä½œä¸º`ESLint`çš„è§„åˆ™æ¥ä½¿ç”¨ï¼Œç›¸å½“äºä»£ç ä¸ç¬¦åˆ Prettier çš„æ ‡å‡†æ—¶ï¼Œä¼šæŠ¥ä¸€ä¸ª`ESLint`é”™è¯¯ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡`eslint --fix`æ¥è¿›è¡Œæ ¼å¼åŒ–ï¼›è¿™æ ·å°±ç›¸å½“äºå°†`Prettier`æ•´åˆè¿›äº†`ESLint`ä¸­ï¼›

ä½¿ç”¨extendsæ‰©å±•ï¼Œå°†ä¼šç¦æ‰Eslintçš„æ ‡çº¢æŠ¥é”™ï¼Œåªä½¿ç”¨prettierçš„æ ¼å¼åŒ–

ä½¿ç”¨pluginæ’ä»¶ï¼Œä¸ä¼šç¦ç”¨Eslintçš„è§„åˆ™ï¼Œä¼šæœ‰æ ‡çº¢çš„åŠŸèƒ½ï¼Œä¸ªäººæ¯”è¾ƒå–œæ¬¢pluginçš„æ•ˆæœ

```plain
module.exports = {
	extends: ['eslint:recommended', 'plugin:vue/essential', 'prettier'],	//æ³¨æ„ï¼Œprettierå†™åˆ°æœ€åï¼Œé¿å…è¢«å…¶ä»–æ’ä»¶è¦†ç›–
	plugin: ['vue', 'prettier']
}
```

##### 1.3 `vscode`æ’ä»¶

æˆ‘ä»¬å›¢é˜Ÿå¤§éƒ¨åˆ†ç”¨çš„æ˜¯vscodeç¼–è¾‘å™¨ï¼Œå¦‚æœä½¿ç”¨å…¶ä»–ç¼–è¾‘å™¨ï¼Œä½¿ç”¨[EditorConfig](https://editorconfig-specification.readthedocs.io/)è¿›è¡Œé…ç½®ï¼Œå¯ä»¥å‚è€ƒ[å‰ç«¯editorconfigä½¿ç”¨è¯¦è§£](https://www.jianshu.com/p/c727c3c945bb)

`vscode`ç¼–è¾‘å™¨å®‰è£…`eslint`æ’ä»¶å¯ä»¥åœ¨ä¿å­˜çš„æ—¶å€™è¿›è¡Œä»£ç æ£€æŸ¥ã€‚

åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º`.vscode`æ–‡ä»¶å¤¹ï¼Œåœ¨æ–‡ä»¶å¤¹ä¸‹æ–°å»º`settings.json`

ç¼–è¾‘`settings.json`:

```json
{
    "editor.codeActionsOnSave": {
        "source.fixAll.eslint": true //è®¾ç½®ä»£ç ä¿å­˜æ—¶éœ€è¦åšçš„å·¥ä½œâ€”â€”å¯ç”¨ä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤,é»˜è®¤åªæ”¯æŒ.jsæ–‡ä»¶
    },
    "editor.formatOnSave": true,
    "files.eol": "\n", //è®¾ç½®ç¼–è¾‘å™¨è¡Œå°¾ä»¥LFæ ¼å¼ç»“å°¾ï¼Œä»¥åŒ¹é…gitè¿œç¨‹ä»£ç åº“
    "editor.defaultFormatter": "esbenp.prettier-vscode", //ä¸»è¦æ˜¯å› ä¸ºvscode lintè§„åˆ™ä¸project lintè§„åˆ™ä¸ä¸€è‡´ï¼Œä¿å­˜çš„æ—¶å€™æŒ‰Aè§„åˆ™formatï¼Œç¼–è¾‘ã€æäº¤æ—¶åˆæŒ‰Bè§„åˆ™æ ¡éªŒï¼Œè§„åˆ™ä¸ä¸€è‡´åˆ™æ¥å›formatã€‚
    "prettier.tabWidth": 4,
    "files.trimTrailingWhitespace": true,
    "files.trimFinalNewlines": true
}
```

å‚è€ƒé“¾æ¥ï¼š[ESlintä¸Prettieré…ç½®æŒ‡å—](https://juejin.cn/post/7050127881371910152)ã€[Prettieré…ç½®æŒ‡å—](https://juejin.cn/post/6938687606687432740)

### 2. gitæäº¤è§„èŒƒ

æˆ‘ä»¬ä½¿ç”¨`husky`æ£€æµ‹`git`é’©å­ï¼Œ`lint-staged`è§„èŒƒåŒ–æš‚å­˜åŒºä»£ç ï¼Œ`commitlint`è§„èŒƒåŒ–æäº¤ä¿¡æ¯ã€‚

##### 2.1 gité’©å­ä»‹ç»

Git æœ‰å¾ˆå¤šçš„ hooks, è®©æˆ‘ä»¬åœ¨ä¸åŒçš„é˜¶æ®µ,å¯¹ä»£ç è¿›è¡Œä¸åŒçš„æ“ä½œ,æ§åˆ¶æäº¤åˆ°ä»“åº“çš„ä»£ç çš„è§„èŒƒæ€§,å’Œå‡†ç¡®æ€§, ä»¥ä¸‹åªæ˜¯å‡ ä¸ªå¸¸ç”¨çš„é’©å­

| gité’©å­      | æè¿°                              |
| ------------ | --------------------------------- |
| `pre-commit` | åˆ¤æ–­æäº¤çš„ä»£ç æ˜¯å¦ç¬¦åˆè§„èŒƒ        |
| `commit-msg` | åˆ¤æ–­ commit ä¿¡æ¯æ˜¯å¦ç¬¦åˆè§„èŒƒ      |
| `pre-push`   | æ‰§è¡Œæµ‹è¯•,é¿å…å¯¹ä»¥å‰çš„å†…å®¹é€ æˆå½±å“ |

##### 2.2 å·¥å…·ä»‹ç»

- `husky`ï¼šæ“ä½œgité’©å­çš„å·¥å…·
- `lint-staged`ï¼šæœ¬åœ°æš‚å­˜ä»£ç æ£€æŸ¥å·¥å…·
- `commitlint`ï¼šæäº¤ä¿¡æ¯æ ¡éªŒå·¥å…·
- `commitizen`ï¼šè¾…åŠ©æäº¤ä¿¡æ¯ ï¼Œ**å…¨å±€å®‰è£…**åå¯ä»¥ä½¿ç”¨`cz`å‘½ä»¤ï¼Œé€‰é¡¹å¼æäº¤`git`

##### 2.3 å®‰è£…å’Œé…ç½®

###### 2.3.1 husky

[å®˜æ–¹æ–‡æ¡£](https://typicode.github.io/husky/#/)

[å®˜æ–¹æ–‡æ¡£](https://typicode.github.io/husky/#/)

```plain
yarn add -D husky lint-staged
```

åœ¨`package.json`ä¸­æ·»åŠ è„šæœ¬

```plain
npm set-script prepare "husky install"
```

åˆå§‹åŒ–`husky`ï¼Œå°†`git hooks`é’©å­äº¤ç”±ï¼Œ`husky`æ‰§è¡Œã€‚ä¼šåœ¨æ ¹ç›®å½•åˆ›å»º `.husky` æ–‡ä»¶å¤¹

```plain
yarn prepare
```

###### 2.3.2 lint-staged

æ£€æµ‹`pre-commit`é’©å­ï¼Œæ‰§è¡Œ `npx lint-staged` æŒ‡ä»¤

```plain
npx husky add .husky/pre-commit "npx lint-staged"
```

[lint-stagedé…ç½®](https://github.com/okonet/lint-staged#Configuration)

å¯ä»¥åœ¨æ ¹ç›®å½•åˆ›å»º `.lintstagedrc.json`æ–‡ä»¶æ§åˆ¶æ£€æŸ¥å’Œæ“ä½œæ–¹å¼



```plain
{
    "*.{js,jsx,ts,tsx}": ["prettier --write", "eslint  --fix"],
    "*.{css,json,md,less,scss}": ["prettier --write"]
}
```

ä¹Ÿå¯ä»¥åœ¨`package.json`ä¸­é…ç½®ï¼š

```plain
{
    "lint-staged": {
      "*.{js,jsx,ts,tsx}": ["prettier --write", "eslint  --fix"],
      "*.{css,json,md,less,scss}": ["prettier --write"]
    }
}
```

###### 2.3.3 commitlint

[å®˜ç½‘](https://commitlint.js.org/#/)

```plain
yarn add -D commitlint
npx husky add .husky/commit-msg 'npx --no-install commitlint --edit "$1"'
```

æ·»åŠ é…ç½®æ–‡ä»¶`commitlint.config.js`ï¼š

```json
// commitlint.config.js
/** @type {import('cz-git').UserConfig} */

module.exports = {
    rules: {
        // @see: https://commitlint.js.org/#/reference-rules
        // é…ç½®è§„åˆ™ï¼š
        //     æ¯ä¸ªé…ç½®æ˜¯ä¸€ä¸ªä¸ªé”®å€¼å¯¹ï¼Œé”®å€¼æ˜¯arrayç±»å‹ï¼š
        //         ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºï¼šé‡è¦ç­‰çº§ï¼Œ0è¡¨ç¤ºå…³é—­è§„åˆ™ï¼Œ1è¡¨ç¤ºwarningï¼Œ2è¡¨ç¤ºerror
        //         ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºï¼šåº”ç”¨ä¸å¦ï¼Œalways | nerver
        //         ç¬¬ä¸‰ä¸ªå‚æ•°è¡¨ç¤ºï¼šé…ç½®è§„åˆ™çš„å€¼
        // commit messageçš„ç»“æ„å¦‚ä¸‹ï¼š
        //     <type>[optional scope]: <description>
        //     [optional body]
        //     [optional footer(s)]
        // ç®€çŸ­æè¿°(subject)
        // è¯¦ç»†æè¿°(body)
        'body-leading-blank': [1, 'always'], // bodyå¼€å¤´ç©ºè¡Œ
        'body-max-line-length': [2, 'always', 100], // bodyæœ€å¤§å†…å®¹é•¿åº¦
        'footer-leading-blank': [1, 'always'], // footerå¼€å¤´ç©ºè¡Œ
        'footer-max-line-length': [2, 'always', 100], // footeræœ€å¤§å†…å®¹é•¿åº¦
        'header-max-length': [2, 'always', 100], // headeræœ€å¤§é•¿åº¦
        // subjectå•è¯æ ¼å¼
        'subject-case': [
            2,
            'never',
            ['sentence-case', 'start-case', 'pascal-case', 'upper-case'],
        ],
        'subject-empty': [2, 'never'], // subjectæ˜¯å¦ä¸ºç©º
        'subject-full-stop': [2, 'never', '.'], // subjectä¸­æ­¢ç¬¦
        'type-case': [2, 'always', 'lower-case'], // typeå•è¯æ ¼å¼
        'type-empty': [2, 'never'], // typeæ˜¯å¦ä¸ºç©º
        // typeå¯é€‰å€¼
        'type-enum': [
            2,
            'always',
            [
                'release',
                'build',
                'update',
                'docs',
                'add',
                'fix',
                'perf',
                'refactor',
                'revert',
                'style',
                'test',
            ],
        ],
    },
    prompt: {
        alias: {
            fd: 'docs: :memo: æ–‡æ¡£æ›´æ–°',
            uv: 'release: :bookmark: update version',
        },
        messages: {
            type: 'é€‰æ‹©ä½ è¦æäº¤çš„ç±»å‹ :',
            scope: 'é€‰æ‹©ä¸€ä¸ªæäº¤èŒƒå›´ï¼ˆå¯é€‰ï¼‰:',
            customScope: 'è¯·è¾“å…¥è‡ªå®šä¹‰çš„æäº¤èŒƒå›´ :',
            subject: 'å¡«å†™ç®€çŸ­ç²¾ç‚¼çš„å˜æ›´æè¿° :\n',
            body: 'å¡«å†™æ›´åŠ è¯¦ç»†çš„å˜æ›´æè¿°ï¼ˆå¯é€‰ï¼‰ã€‚ä½¿ç”¨ "|" æ¢è¡Œ :\n',
            breaking: 'åˆ—ä¸¾éå…¼å®¹æ€§é‡å¤§çš„å˜æ›´ï¼ˆå¯é€‰ï¼‰ã€‚ä½¿ç”¨ "|" æ¢è¡Œ :\n',
            footerPrefixsSelect: 'é€‰æ‹©å…³è”issueå‰ç¼€ï¼ˆå¯é€‰ï¼‰:',
            customFooterPrefixs: 'è¾“å…¥è‡ªå®šä¹‰issueå‰ç¼€ :',
            footer: 'åˆ—ä¸¾å…³è”issue (å¯é€‰) ä¾‹å¦‚: #31, #I3244 :\n',
            confirmCommit: 'æ˜¯å¦æäº¤æˆ–ä¿®æ”¹commit ?',
        },
        types: [
            {
                value: 'add',
                name: 'add:      âœ¨  æ–°å¢åŠŸèƒ½',
                emoji: ':sparkles:',
            },
            {
                value: 'update',
                name: 'update:   ğŸš€  æ›´æ–°',
                emoji: ':rocket:',
            },
            {
                value: 'fix',
                name: 'fix:      ğŸ›  ä¿®å¤ç¼ºé™·',
                emoji: ':bug:',
            },
            {
                value: 'release',
                name: 'release:  ğŸ”–  å‘å¸ƒæ–°ç‰ˆæœ¬',
                emoji: ':bookmark:',
            },
            {
                value: 'style',
                name: 'style:    ğŸ’„  ä»£ç æ ¼å¼ (ä¸å½±å“åŠŸèƒ½ï¼Œä¾‹å¦‚ç©ºæ ¼ã€åˆ†å·ç­‰æ ¼å¼ä¿®æ­£ï¼‰',
                emoji: ':lipstick:',
            },
            {
                value: 'refactor',
                name: 'refactor: â™»ï¸   ä»£ç é‡æ„ ï¼ˆä¸åŒ…æ‹¬ bug ä¿®å¤ã€åŠŸèƒ½æ–°å¢ï¼‰',
                emoji: ':recycle:',
            },
            {
                value: 'perf',
                name: 'perf:     âš¡ï¸  æ€§èƒ½ä¼˜åŒ–',
                emoji: ':zap:',
            },
            {
                value: 'test',
                name: 'test:     âœ…  æ·»åŠ ç–æ¼æµ‹è¯•æˆ–å·²æœ‰æµ‹è¯•æ”¹åŠ¨',
                emoji: ':white_check_mark:',
            },
            {
                value: 'build',
                name: 'build:    ğŸ“¦ï¸  æ„å»ºç›¸å…³ ï¼ˆæ„å»ºæµç¨‹ã€å¤–éƒ¨ä¾èµ–å˜æ›´ï¼ˆå¦‚å‡çº§ npm åŒ…ã€ä¿®æ”¹ webpack é…ç½®ç­‰ï¼‰',
                emoji: ':package:',
            },
            {
                value: 'docs',
                name: 'docs:     ğŸ“  æ–‡æ¡£æ›´æ–°',
                emoji: ':memo:',
            },
            {
                value: 'revert',
                name: 'revert:   âªï¸  å›æ»š commit',
                emoji: ':rewind:',
            },
        ],
        useEmoji: true, // æ˜¯å¦å¼€å¯ commit message å¸¦æœ‰ Emoji å­—ç¬¦ã€‚
        emojiAlign: 'center', // è®¾ç½® Emoji å­—ç¬¦ çš„ ä½äºå¤´éƒ¨ä½ç½®
        themeColorCode: '', // è®¾ç½®æç¤ºæŸ¥è¯¢å™¨ä¸»é¢˜é¢œè‰², cyané’è‰²
        scopes: [], // è‡ªå®šä¹‰é€‰æ‹© æ¨¡å—èŒƒå›´ å‘½ä»¤è¡Œæ˜¾ç¤ºä¿¡æ¯
        allowCustomScopes: true, // æ˜¯å¦åœ¨é€‰æ‹© æ¨¡å—èŒƒå›´ æ˜¾ç¤ºè‡ªå®šä¹‰é€‰é¡¹(custom)
        allowEmptyScopes: true, // æ˜¯å¦åœ¨é€‰æ‹© æ¨¡å—èŒƒå›´ æ˜¾ç¤ºä¸ºç©ºé€‰é¡¹(empty)
        customScopesAlign: 'bottom', // è®¾ç½® é€‰æ‹©èŒƒå›´ ä¸­ ä¸ºç©ºé€‰é¡¹(empty) å’Œ è‡ªå®šä¹‰é€‰é¡¹(custom) çš„ ä½ç½®
        customScopesAlias: 'custom', // è‡ªå®šä¹‰ é€‰æ‹©èŒƒå›´ ä¸­ è‡ªå®šä¹‰é€‰é¡¹(custom) åœ¨å‘½ä»¤è¡Œä¸­æ˜¾ç¤ºçš„ åç§°
        emptyScopesAlias: 'empty', // è‡ªå®šä¹‰ é€‰æ‹©èŒƒå›´ ä¸­ ä¸ºç©ºé€‰é¡¹(empty) åœ¨å‘½ä»¤è¡Œä¸­æ˜¾ç¤ºçš„ åç§°
        upperCaseSubject: false, // æ˜¯å¦è‡ªåŠ¨å°†ç®€çŸ­æè¿°(subject)ç¬¬ä¸€ä¸ªå­—ç¬¦è¿›è¡Œå¤§å†™å¤„ç†
        markBreakingChangeMode: false, // æ·»åŠ é¢å¤–çš„é—®é¢˜é‡å¤§å˜æ›´(BREAKING CHANGES)æé—®ï¼Œè¯¢é—®æ˜¯å¦éœ€è¦æ·»åŠ  "!" æ ‡è¯†äº
        allowBreakingChanges: ['feat', 'fix'], // å…è®¸å‡ºç° é‡å¤§å˜æ›´(BREAKING CHANGES)çš„ç‰¹å®š type
        breaklineNumber: 100, // è¯¦ç»†æè¿°(body)å’Œé‡å¤§å˜æ›´(BREAKING CHANGES)ä¸­æ ¹æ®å­—ç¬¦è¶…è¿‡è¯¥æ•°å€¼è‡ªåŠ¨æ¢è¡Œ
        breaklineChar: '|', // è¯¦ç»†æè¿°(body)å’Œé‡å¤§å˜æ›´(BREAKING CHANGES)ä¸­æ¢è¡Œå­—ç¬¦
        skipQuestions: ['scope', 'body', 'breaking', 'footerPrefix', 'footer'], // è‡ªå®šä¹‰é€‰æ‹©æŒ‡å®šçš„é—®é¢˜ä¸æ˜¾ç¤º
        // è‡ªå®šä¹‰é€‰æ‹©issueå‰ç¼€
        issuePrefixs: [
            // å¦‚æœä½¿ç”¨ gitee ä½œä¸ºå¼€å‘ç®¡ç†
            { value: 'link', name: 'link:     é“¾æ¥ ISSUES è¿›è¡Œä¸­' },
            { value: 'closed', name: 'closed:   æ ‡è®° ISSUES å·²å®Œæˆ' },
        ],
        customIssuePrefixsAlign: 'top', // è®¾ç½® é€‰æ‹© issue å‰ç¼€ ä¸­ è·³è¿‡é€‰é¡¹(skip) å’Œ è‡ªå®šä¹‰é€‰é¡¹(custom) çš„ ä½ç½®
        emptyIssuePrefixsAlias: 'skip', // è‡ªå®šä¹‰ é€‰æ‹© issue å‰ç¼€ ä¸­ è·³è¿‡é€‰é¡¹(skip) åœ¨å‘½ä»¤è¡Œä¸­æ˜¾ç¤ºçš„ åç§°
        customIssuePrefixsAlias: 'custom', // è‡ªå®šä¹‰ é€‰æ‹© issue å‰ç¼€ ä¸­ è‡ªå®šä¹‰é€‰é¡¹(custom) åœ¨å‘½ä»¤è¡Œä¸­æ˜¾ç¤ºçš„ åç§°
        allowCustomIssuePrefixs: true, // æ˜¯å¦åœ¨é€‰æ‹© ISSUE å‰ç¼€ æ˜¾ç¤ºè‡ªå®šä¹‰é€‰é¡¹(custom)
        allowEmptyIssuePrefixs: true, // æ˜¯å¦åœ¨é€‰æ‹© ISSUE å‰ç¼€ æ˜¾ç¤ºä¸ºè·³è¿‡é€‰é¡¹(skip)
        confirmColorize: true, // ç¡®å®šæäº¤ä¸­æ¨¡æ¿ commit message æ˜¯å¦ç€è‰²
        maxHeaderLength: Infinity, // å®šä¹‰commit messageä¸­çš„ header é•¿åº¦, ç»™äºˆåœ¨å‘½ä»¤è¡Œä¸­çš„æ ¡éªŒä¿¡æ¯
        maxSubjectLength: Infinity, // å®šä¹‰commit messageä¸­çš„ subject é•¿åº¦, ç»™äºˆåœ¨å‘½ä»¤è¡Œä¸­çš„æ ¡éªŒä¿¡æ¯
        minSubjectLength: 0, // å®šä¹‰commit messageä¸­çš„ subject é•¿åº¦, ç»™äºˆåœ¨å‘½ä»¤è¡Œä¸­çš„æ ¡éªŒä¿¡æ¯
        scopeOverrides: undefined, // è‡ªå®šä¹‰é€‰æ‹©äº†ç‰¹å®šç±»å‹å è¦†ç›–æ¨¡å—èŒƒå›´ å‘½ä»¤è¡Œæ˜¾ç¤ºä¿¡æ¯
        defaultBody: '', // åœ¨ è¯¦ç»†æè¿° ä¸­æ˜¯å¦ä½¿ç”¨æ˜¾ç¤ºé»˜è®¤å€¼
        defaultIssues: '', // åœ¨ è¾“å…¥ISSUE ä¸­æ˜¯å¦ä½¿ç”¨æ˜¾ç¤ºé»˜è®¤å€¼
        defaultScope: '', // å¦‚æœ defaultScope ä¸åœ¨é€‰æ‹©èŒƒå›´åˆ—è¡¨é¡¹ä¸­çš„ value ç›¸åŒ¹é…å°±ä¼šè¿›è¡Œæ˜Ÿæ ‡ç½®é¡¶æ“ä½œã€‚
        defaultSubject: '', // åœ¨ ç®€çŸ­æè¿° ä¸­æ˜¯å¦ä½¿ç”¨æ˜¾ç¤ºé»˜è®¤å€¼
    },
}
```

| ç±»å‹     | æè¿°                                                   |
| -------- | ------------------------------------------------------ |
| release  | å‘å¸ƒæ–°ç‰ˆ                                               |
| build    | ç¼–è¯‘ç›¸å…³çš„ä¿®æ”¹ï¼Œä¾‹å¦‚å‘å¸ƒç‰ˆæœ¬ã€å¯¹é¡¹ç›®æ„å»ºæˆ–è€…ä¾èµ–çš„æ”¹åŠ¨ |
| update   | æ›´æ–°                                                   |
| docs     | æ–‡æ¡£ä¿®æ”¹                                               |
| add      | æ–°ç‰¹æ€§ã€æ–°åŠŸèƒ½                                         |
| fix      | ä¿®æ”¹bug                                                |
| perf     | ä¼˜åŒ–ç›¸å…³ï¼Œæ¯”å¦‚æå‡æ€§èƒ½ã€ä½“éªŒ                           |
| refactor | ä»£ç é‡æ„                                               |
| revert   | å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬                                       |
| style    | ä»£ç æ ¼å¼ä¿®æ”¹, æ³¨æ„ä¸æ˜¯ css ä¿®æ”¹                        |
| test     | æµ‹è¯•ç”¨ä¾‹ä¿®æ”¹                                           |

###### 2.3.4 commitizen

ä»€ä¹ˆæ˜¯commitizenï¼šåŸºäºNode.jsçš„ `git commit` å‘½ä»¤è¡Œå·¥å…·ï¼Œè¾…åŠ©ç”Ÿæˆæ ‡å‡†åŒ–è§„èŒƒåŒ–çš„ commit messageã€‚

ä»€ä¹ˆæ˜¯é€‚é…å™¨ï¼šé€‚é…å™¨æ˜¯ä¸ºcommitizenæä¾›æç¤ºæ€§äº¤äº’çš„å·¥å…·ï¼Œæé—®åŠŸèƒ½å°±æ˜¯é€‚é…å™¨é‡Œé¢çš„

**æ³¨æ„ï¼šè¦ä½¿ç”¨czå‘½ä»¤ï¼Œå¿…é¡»å…¨å±€å®‰è£…commitizen**

**æ³¨æ„ï¼šè¦ä½¿ç”¨czå‘½ä»¤ï¼Œå¿…é¡»å…¨å±€å®‰è£…commitizen**

**æ³¨æ„ï¼šè¦ä½¿ç”¨czå‘½ä»¤ï¼Œå¿…é¡»å…¨å±€å®‰è£…commitizen**

```plain
npm i -g commitizen
```

**æ–¹å¼ä¸€:** åœ¨ **package.json** ä¸‹ config.commitizen ä¸‹æ·»åŠ è‡ªå®šä¹‰é…ç½®ï¼Œä½†è¿‡é‡çš„é…ç½®é¡¹ä¼šå¯¼è‡´ package.json è‡ƒè‚¿ï¼Œä¸ä»‹ç»äº†ã€‚

**æ–¹å¼äºŒ: (æ¨è)  ä½¿ç”¨é€‚é…å™¨**

ä¸ [commitlint](https://github.com/conventional-changelog/commitlint) è¿›è¡Œè”åŠ¨ç»™äºˆæ ¡éªŒä¿¡æ¯**ï¼Œæ‰€ä»¥å¯ä»¥ç¼–å†™äº [commitlint](https://github.com/conventional-changelog/commitlint#config) é…ç½®æ–‡ä»¶ä¹‹ä¸­ã€‚ä¾‹å¦‚: ([â‡’ é…ç½®æ¨¡æ¿](https://cz-git.qbb.sh/zh/config/))

cz-gité€‚é…å™¨çš„æ•ˆæœæŒºå¥½çš„ï¼Œæˆ‘ä»¬ç”±äºæœ‰ç‰¹æ®Šçš„æé—®éœ€æ±‚ï¼Œäºæ˜¯æ²¡é‡‡ç”¨cz-gité€‚é…å™¨ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬è‡ªå·±çš„é€‚é…å™¨é‡Œé¢ï¼Œå®ç°äº†ç±»ä¼¼çš„åŠŸèƒ½ã€‚

åœ¨`commitlint.config.js`ä¸­æ·»åŠ promptå¯¹è±¡ï¼š

```plain
// commitlint.config.js

module.exports = {
    prompt: {
        alias: {
            fd: 'docs: :memo: æ–‡æ¡£æ›´æ–°',
            uv: 'release: :bookmark: update version',
        },
        messages: {
            type: 'é€‰æ‹©ä½ è¦æäº¤çš„ç±»å‹ :',
            scope: 'é€‰æ‹©ä¸€ä¸ªæäº¤èŒƒå›´ï¼ˆå¯é€‰ï¼‰:',
            customScope: 'è¯·è¾“å…¥è‡ªå®šä¹‰çš„æäº¤èŒƒå›´ :',
            subject: 'å¡«å†™ç®€çŸ­ç²¾ç‚¼çš„å˜æ›´æè¿° :\n',
            body: 'å¡«å†™æ›´åŠ è¯¦ç»†çš„å˜æ›´æè¿°ï¼ˆå¯é€‰ï¼‰ã€‚ä½¿ç”¨ "|" æ¢è¡Œ :\n',
            breaking: 'åˆ—ä¸¾éå…¼å®¹æ€§é‡å¤§çš„å˜æ›´ï¼ˆå¯é€‰ï¼‰ã€‚ä½¿ç”¨ "|" æ¢è¡Œ :\n',
            footerPrefixsSelect: 'é€‰æ‹©å…³è”issueå‰ç¼€ï¼ˆå¯é€‰ï¼‰:',
            customFooterPrefixs: 'è¾“å…¥è‡ªå®šä¹‰issueå‰ç¼€ :',
            footer: 'åˆ—ä¸¾å…³è”issue (å¯é€‰) ä¾‹å¦‚: #31, #I3244 :\n',
            confirmCommit: 'æ˜¯å¦æäº¤æˆ–ä¿®æ”¹commit ?',
        },
        types: [
            {
                value: 'add',
                name: 'add:      âœ¨  æ–°å¢åŠŸèƒ½',
                emoji: ':sparkles:',
            },
            {
                value: 'update',
                name: 'update:   ğŸš€  æ›´æ–°',
                emoji: ':rocket:',
            },
            {
                value: 'fix',
                name: 'fix:      ğŸ›  ä¿®å¤ç¼ºé™·',
                emoji: ':bug:',
            },
            {
                value: 'release',
                name: 'release:  ğŸ”–  å‘å¸ƒæ–°ç‰ˆæœ¬',
                emoji: ':bookmark:',
            },
            {
                value: 'style',
                name: 'style:    ğŸ’„  ä»£ç æ ¼å¼ (ä¸å½±å“åŠŸèƒ½ï¼Œä¾‹å¦‚ç©ºæ ¼ã€åˆ†å·ç­‰æ ¼å¼ä¿®æ­£ï¼‰',
                emoji: ':lipstick:',
            },
            {
                value: 'refactor',
                name: 'refactor: â™»ï¸   ä»£ç é‡æ„ ï¼ˆä¸åŒ…æ‹¬ bug ä¿®å¤ã€åŠŸèƒ½æ–°å¢ï¼‰',
                emoji: ':recycle:',
            },
            {
                value: 'perf',
                name: 'perf:     âš¡ï¸  æ€§èƒ½ä¼˜åŒ–',
                emoji: ':zap:',
            },
            {
                value: 'test',
                name: 'test:     âœ…  æ·»åŠ ç–æ¼æµ‹è¯•æˆ–å·²æœ‰æµ‹è¯•æ”¹åŠ¨',
                emoji: ':white_check_mark:',
            },
            {
                value: 'build',
                name: 'build:    ğŸ“¦ï¸  æ„å»ºç›¸å…³ ï¼ˆæ„å»ºæµç¨‹ã€å¤–éƒ¨ä¾èµ–å˜æ›´ï¼ˆå¦‚å‡çº§ npm åŒ…ã€ä¿®æ”¹ webpack é…ç½®ç­‰ï¼‰',
                emoji: ':package:',
            },
            {
                value: 'docs',
                name: 'docs:     ğŸ“  æ–‡æ¡£æ›´æ–°',
                emoji: ':memo:',
            },
            {
                value: 'revert',
                name: 'revert:   âªï¸  å›æ»š commit',
                emoji: ':rewind:',
            },
        ],
        useEmoji: true, // æ˜¯å¦å¼€å¯ commit message å¸¦æœ‰ Emoji å­—ç¬¦ã€‚
        emojiAlign: 'center', // è®¾ç½® Emoji å­—ç¬¦ çš„ ä½äºå¤´éƒ¨ä½ç½®
        themeColorCode: '', // è®¾ç½®æç¤ºæŸ¥è¯¢å™¨ä¸»é¢˜é¢œè‰², cyané’è‰²
        scopes: [], // è‡ªå®šä¹‰é€‰æ‹© æ¨¡å—èŒƒå›´ å‘½ä»¤è¡Œæ˜¾ç¤ºä¿¡æ¯
        allowCustomScopes: true, // æ˜¯å¦åœ¨é€‰æ‹© æ¨¡å—èŒƒå›´ æ˜¾ç¤ºè‡ªå®šä¹‰é€‰é¡¹(custom)
        allowEmptyScopes: true, // æ˜¯å¦åœ¨é€‰æ‹© æ¨¡å—èŒƒå›´ æ˜¾ç¤ºä¸ºç©ºé€‰é¡¹(empty)
        customScopesAlign: 'bottom', // è®¾ç½® é€‰æ‹©èŒƒå›´ ä¸­ ä¸ºç©ºé€‰é¡¹(empty) å’Œ è‡ªå®šä¹‰é€‰é¡¹(custom) çš„ ä½ç½®
        customScopesAlias: 'custom', // è‡ªå®šä¹‰ é€‰æ‹©èŒƒå›´ ä¸­ è‡ªå®šä¹‰é€‰é¡¹(custom) åœ¨å‘½ä»¤è¡Œä¸­æ˜¾ç¤ºçš„ åç§°
        emptyScopesAlias: 'empty', // è‡ªå®šä¹‰ é€‰æ‹©èŒƒå›´ ä¸­ ä¸ºç©ºé€‰é¡¹(empty) åœ¨å‘½ä»¤è¡Œä¸­æ˜¾ç¤ºçš„ åç§°
        upperCaseSubject: false, // æ˜¯å¦è‡ªåŠ¨å°†ç®€çŸ­æè¿°(subject)ç¬¬ä¸€ä¸ªå­—ç¬¦è¿›è¡Œå¤§å†™å¤„ç†
        markBreakingChangeMode: false, // æ·»åŠ é¢å¤–çš„é—®é¢˜é‡å¤§å˜æ›´(BREAKING CHANGES)æé—®ï¼Œè¯¢é—®æ˜¯å¦éœ€è¦æ·»åŠ  "!" æ ‡è¯†äº
        allowBreakingChanges: ['feat', 'fix'], // å…è®¸å‡ºç° é‡å¤§å˜æ›´(BREAKING CHANGES)çš„ç‰¹å®š type
        breaklineNumber: 100, // è¯¦ç»†æè¿°(body)å’Œé‡å¤§å˜æ›´(BREAKING CHANGES)ä¸­æ ¹æ®å­—ç¬¦è¶…è¿‡è¯¥æ•°å€¼è‡ªåŠ¨æ¢è¡Œ
        breaklineChar: '|', // è¯¦ç»†æè¿°(body)å’Œé‡å¤§å˜æ›´(BREAKING CHANGES)ä¸­æ¢è¡Œå­—ç¬¦
        skipQuestions: ['scope', 'body', 'breaking', 'footerPrefix', 'footer'], // è‡ªå®šä¹‰é€‰æ‹©æŒ‡å®šçš„é—®é¢˜ä¸æ˜¾ç¤º
        // è‡ªå®šä¹‰é€‰æ‹©issueå‰ç¼€
        issuePrefixs: [
            // å¦‚æœä½¿ç”¨ gitee ä½œä¸ºå¼€å‘ç®¡ç†
            { value: 'link', name: 'link:     é“¾æ¥ ISSUES è¿›è¡Œä¸­' },
            { value: 'closed', name: 'closed:   æ ‡è®° ISSUES å·²å®Œæˆ' },
        ],
        customIssuePrefixsAlign: 'top', // è®¾ç½® é€‰æ‹© issue å‰ç¼€ ä¸­ è·³è¿‡é€‰é¡¹(skip) å’Œ è‡ªå®šä¹‰é€‰é¡¹(custom) çš„ ä½ç½®
        emptyIssuePrefixsAlias: 'skip', // è‡ªå®šä¹‰ é€‰æ‹© issue å‰ç¼€ ä¸­ è·³è¿‡é€‰é¡¹(skip) åœ¨å‘½ä»¤è¡Œä¸­æ˜¾ç¤ºçš„ åç§°
        customIssuePrefixsAlias: 'custom', // è‡ªå®šä¹‰ é€‰æ‹© issue å‰ç¼€ ä¸­ è‡ªå®šä¹‰é€‰é¡¹(custom) åœ¨å‘½ä»¤è¡Œä¸­æ˜¾ç¤ºçš„ åç§°
        allowCustomIssuePrefixs: true, // æ˜¯å¦åœ¨é€‰æ‹© ISSUE å‰ç¼€ æ˜¾ç¤ºè‡ªå®šä¹‰é€‰é¡¹(custom)
        allowEmptyIssuePrefixs: true, // æ˜¯å¦åœ¨é€‰æ‹© ISSUE å‰ç¼€ æ˜¾ç¤ºä¸ºè·³è¿‡é€‰é¡¹(skip)
        confirmColorize: true, // ç¡®å®šæäº¤ä¸­æ¨¡æ¿ commit message æ˜¯å¦ç€è‰²
        maxHeaderLength: Infinity, // å®šä¹‰commit messageä¸­çš„ header é•¿åº¦, ç»™äºˆåœ¨å‘½ä»¤è¡Œä¸­çš„æ ¡éªŒä¿¡æ¯
        maxSubjectLength: Infinity, // å®šä¹‰commit messageä¸­çš„ subject é•¿åº¦, ç»™äºˆåœ¨å‘½ä»¤è¡Œä¸­çš„æ ¡éªŒä¿¡æ¯
        minSubjectLength: 0, // å®šä¹‰commit messageä¸­çš„ subject é•¿åº¦, ç»™äºˆåœ¨å‘½ä»¤è¡Œä¸­çš„æ ¡éªŒä¿¡æ¯
        scopeOverrides: undefined, // è‡ªå®šä¹‰é€‰æ‹©äº†ç‰¹å®šç±»å‹å è¦†ç›–æ¨¡å—èŒƒå›´ å‘½ä»¤è¡Œæ˜¾ç¤ºä¿¡æ¯
        defaultBody: '', // åœ¨ è¯¦ç»†æè¿° ä¸­æ˜¯å¦ä½¿ç”¨æ˜¾ç¤ºé»˜è®¤å€¼
        defaultIssues: '', // åœ¨ è¾“å…¥ISSUE ä¸­æ˜¯å¦ä½¿ç”¨æ˜¾ç¤ºé»˜è®¤å€¼
        defaultScope: '', // å¦‚æœ defaultScope ä¸åœ¨é€‰æ‹©èŒƒå›´åˆ—è¡¨é¡¹ä¸­çš„ value ç›¸åŒ¹é…å°±ä¼šè¿›è¡Œæ˜Ÿæ ‡ç½®é¡¶æ“ä½œã€‚
        defaultSubject: '', // åœ¨ ç®€çŸ­æè¿° ä¸­æ˜¯å¦ä½¿ç”¨æ˜¾ç¤ºé»˜è®¤å€¼
    },
}
```

###### 2.3.5 ç¼–å†™adaptor

å‚è€ƒï¼š[cz-git](https://github.com/Zhengqbbb/cz-git)ã€[commitizen](https://github.com/commitizen)/[cz-cli](https://github.com/commitizen/cz-cli)ã€[cz-customizable](https://github.com/leoforfree/cz-customizable)ã€[Inquirer.js](https://github.com/SBoudrias/Inquirer.js)

ä¿®æ”¹æ•´åˆäº†`cz-customizable`çš„ä»£ç ï¼š

å…ˆå®‰è£…ä¾èµ–ï¼š

```plain
yarn add -D editor temp word-wrap find-config
```

```
cz_customizable.js
```

```plain
// cz_customizable.js
// ä¾èµ–ï¼šeditor temp word-wrap lodash find-config
// yarn add -D editor temp word-wrap lodash find-config

/* eslint-disable global-require */
// Inspired by: https://github.com/commitizen/cz-conventional-changelog and https://github.com/commitizen/cz-cli

const editor = require('editor')
const temp = require('temp').track()
const fs = require('fs')
const _ = require('lodash')
const wrap = require('word-wrap')
const findConfig = require('find-config')
const path = require('path')

const log = console
const readConfigFile = (CZ_CONFIG_NAME = 'commitlint.config.js') => {
    // First try to find the .cz-config.js config file
    // It seems like find-config still locates config files in the home directory despite of the home:false prop.
    const czConfig = findConfig.require(CZ_CONFIG_NAME, { home: false })

    if (czConfig?.prompt) {
        return czConfig.prompt
    }

    // fallback to locating it using the config block in the nearest package.json
    let pkg = findConfig('package.json', { home: false })

    if (pkg) {
        const pkgDir = path.dirname(pkg)
        pkg = require(pkg)
        if (
            pkg.config &&
            pkg.config['cz-customizable'] &&
            pkg.config['cz-customizable'].config
        ) {
            // resolve relative to discovered package.json
            const pkgPath = path.resolve(
                pkgDir,
                pkg.config['cz-customizable'].config
            )
            log.info(
                '>>> Using cz-customizable config specified in your package.json: ',
                pkgPath
            )
            return require(pkgPath)
        }
    }

    /* istanbul ignore next */
    log.error(
        'Unable to find a configuration file. Please refer to documentation to learn how to set up: https://github.com/leonardoanalista/cz-customizable#steps "'
    )
    return null
}

const defaultSubjectSeparator = ': '
const defaultMaxLineWidth = 100
const defaultBreaklineChar = '|'

const isNotWip = (answers) => answers.type.toLowerCase() !== 'wip'

const isValidateTicketNo = (value, config) => {
    if (!value) {
        return !config.isTicketNumberRequired
    }
    if (!config.ticketNumberRegExp) {
        return true
    }
    const reg = new RegExp(config.ticketNumberRegExp)
    if (value.replace(reg, '') !== '') {
        return false
    }
    return true
}

const getPreparedCommit = (context) => {
    let message = null

    // eslint-disable-next-line no-undef
    let preparedCommit = getPreviousCommit()

    if (preparedCommit) {
        preparedCommit = preparedCommit
            .replace(/^#.*/gm, '')
            .replace(/^\s*[\r\n]/gm, '')
            .replace(/[\r\n]$/, '')
            .split(/\r\n|\r|\n/)

        if (preparedCommit.length && preparedCommit[0]) {
            if (context === 'subject') [message] = preparedCommit
            else if (context === 'body' && preparedCommit.length > 1) {
                preparedCommit.shift()
                message = preparedCommit.join('|')
            }
        }
    }

    return message
}
const addTicketNumber = (ticketNumber, config) => {
    if (!ticketNumber) {
        return ''
    }

    if (config.ticketNumberPrefix) {
        return `${config.ticketNumberPrefix + ticketNumber.trim()} `
    }

    return `${ticketNumber.trim()} `
}

const addScope = (scope, config) => {
    const separator = _.get(config, 'subjectSeparator', defaultSubjectSeparator)

    if (!scope) return separator // it could be type === WIP. So there is no scope

    return `(${scope.trim()})${separator}`
}

const addSubject = (subject) => _.trim(subject)

const addType = (type, config) => {
    const prefix = _.get(config, 'typePrefix', '')
    const suffix = _.get(config, 'typeSuffix', '')

    return _.trim(`${prefix}${type}${suffix}`)
}

const addBreaklinesIfNeeded = (value, breaklineChar = defaultBreaklineChar) =>
    value.split(breaklineChar).join('\n').valueOf()

const escapeSpecialChars = (result) => {
    const specialChars = ['`', '"', '\\$', '!', '<', '>', '&']
    let newResult = result

    specialChars.forEach((item) => {
        // If user types `feat: "string"`, the commit preview should show `feat: \"string\"`.
        // Don't worry. The git log will be `feat: "string"`
        newResult = newResult.replace(new RegExp(item, 'g'), `\\${item}`)
    })

    return newResult
}

const addFooter = (footer, config) => {
    if (config && config.footerPrefix === '') return `\n\n${footer}`

    const footerPrefix =
        config && config.footerPrefix ? config.footerPrefix : 'ISSUES CLOSED:'

    return `\n\n${footerPrefix} ${addBreaklinesIfNeeded(
        footer,
        config.breaklineChar
    )}`
}
const buildCommit = (answers, config, emoji) => {
    const wrapOptions = {
        trim: true,
        newline: '\n',
        indent: '',
        width: defaultMaxLineWidth,
    }

    // Hard limit this line
    // eslint-disable-next-line max-len
    const head =
        addType(answers.type, config) +
        addScope(answers.scope, config) +
        addTicketNumber(answers.ticketNumber, config) +
        ` ${emoji} ` +
        addSubject(answers.subject.slice(0, config.subjectLimit))

    // Wrap these lines at 100 characters
    let body = wrap(answers.body, wrapOptions) || ''
    body = addBreaklinesIfNeeded(body, config.breaklineChar)

    const breaking = wrap(answers.breaking, wrapOptions)
    const footer = wrap(answers.footer, wrapOptions)

    let result = head
    if (body) {
        result += `\n\n${body}`
    }
    if (breaking) {
        const breakingPrefix =
            config && config.breakingPrefix
                ? config.breakingPrefix
                : 'BREAKING CHANGE:'
        result += `\n\n${breakingPrefix}\n${breaking}`
    }
    if (footer) {
        result += addFooter(footer, config)
    }

    return escapeSpecialChars(result)
}

const myQuestions = {
    getQuestions(config, cz) {
        // normalize config optional options
        const scopeOverrides = config.scopeOverrides || {}
        const messages = config.messages || {}
        const skipQuestions = config.skipQuestions || []
        const skipEmptyScopes = config.skipEmptyScopes || false

        messages.type =
            messages.type || "Select the type of change that you're committing:"
        messages.scope =
            messages.scope || '\nDenote the SCOPE of this change (optional):'
        messages.customScope =
            messages.customScope || 'Denote the SCOPE of this change:'
        if (!messages.ticketNumber) {
            if (config.ticketNumberRegExp) {
                messages.ticketNumber =
                    messages.ticketNumberPattern ||
                    `Enter the ticket number following this pattern (${config.ticketNumberRegExp})\n`
            } else {
                messages.ticketNumber = 'Enter the ticket number:\n'
            }
        }
        messages.subject =
            messages.subject ||
            'Write a SHORT, IMPERATIVE tense description of the change:\n'
        messages.body =
            messages.body ||
            'Provide a LONGER description of the change (optional). Use "|" to break new line:\n'
        messages.breaking =
            messages.breaking || 'List any BREAKING CHANGES (optional):\n'
        messages.footer =
            messages.footer ||
            'List any ISSUES CLOSED by this change (optional). E.g.: #31, #34:\n'
        messages.confirmCommit =
            messages.confirmCommit ||
            'Are you sure you want to proceed with the commit above?'

        let questions = [
            {
                type: 'list',
                name: 'type',
                message: messages.type,
                choices: config.types,
            },
            {
                type: 'list',
                name: 'scope',
                message: messages.scope,
                choices(answers) {
                    let scopes = []
                    if (scopeOverrides[answers.type]) {
                        scopes = scopes.concat(scopeOverrides[answers.type])
                    } else {
                        scopes = scopes.concat(config.scopes)
                    }
                    if (config.allowCustomScopes || scopes.length === 0) {
                        scopes = scopes.concat([
                            new cz.Separator(),
                            { name: 'empty', value: false },
                            { name: 'custom', value: 'custom' },
                        ])
                    }
                    return scopes
                },
                when(answers) {
                    let hasScope = false
                    if (scopeOverrides[answers.type]) {
                        hasScope = !!(scopeOverrides[answers.type].length > 0)
                    } else {
                        hasScope = !!(config.scopes && config.scopes.length > 0)
                    }
                    if (!hasScope) {
                        // TODO: Fix when possible
                        // eslint-disable-next-line no-param-reassign
                        answers.scope = skipEmptyScopes ? '' : 'custom'
                        return false
                    }
                    return isNotWip(answers)
                },
            },
            {
                type: 'input',
                name: 'scope',
                message: messages.customScope,
                when(answers) {
                    return answers.scope === 'custom'
                },
            },
            {
                type: 'input',
                name: 'ticketNumber',
                message: messages.ticketNumber,
                when() {
                    return !!config.allowTicketNumber // no ticket numbers allowed unless specifed
                },
                validate(value) {
                    return isValidateTicketNo(value, config)
                },
            },
            {
                type: 'input',
                name: 'subject',
                message: messages.subject,
                default:
                    config.usePreparedCommit && getPreparedCommit('subject'),
                validate(value) {
                    if (value.length == 0) return 'æè¿°ä¸èƒ½ä¸ºç©º'
                    const limit = config.subjectLimit || 100
                    if (value.length > limit) {
                        return `Exceed limit: ${limit}`
                    }
                    return true
                },
                filter(value) {
                    const upperCaseSubject = config.upperCaseSubject || false

                    return (
                        (upperCaseSubject
                            ? value.charAt(0).toUpperCase()
                            : value.charAt(0).toLowerCase()) + value.slice(1)
                    )
                },
            },
            {
                type: 'input',
                name: 'body',
                message: messages.body,
                default: config.usePreparedCommit && getPreparedCommit('body'),
            },
            {
                type: 'input',
                name: 'breaking',
                message: messages.breaking,
                when(answers) {
                    // eslint-disable-next-line max-len
                    if (
                        config.askForBreakingChangeFirst ||
                        (config.allowBreakingChanges &&
                            config.allowBreakingChanges.indexOf(
                                answers.type.toLowerCase()
                            ) >= 0)
                    ) {
                        return true
                    }
                    return false // no breaking changes allowed unless specifed
                },
            },
            {
                type: 'input',
                name: 'footer',
                message: messages.footer,
                when: isNotWip,
            },
            {
                type: 'list',
                name: 'release',
                message: messages.release,
                choices: [
                    { key: 'n', name: 'No', value: 'no' },
                    { key: 'y', name: 'Yes', value: 'yes' },
                ],
            },
            {
                type: 'expand',
                name: 'confirmCommit',
                choices: [
                    { key: 'y', name: 'ç¡®è®¤', value: 'yes' },
                    { key: 'n', name: 'ä¸­æ–­æäº¤', value: 'no' },
                    { key: 'e', name: 'ç¼–è¾‘æäº¤ä¿¡æ¯', value: 'edit' },
                ],
                default: 0,
                message(answers) {
                    let emoji = config.types.find((e) => {
                        return answers.type === e.value
                    })
                    if (emoji === undefined) {
                        emoji = ''
                    } else {
                        emoji = emoji.emoji
                    }
                    const SEP =
                        '###--------------------------------------------------------###'
                    log.info(
                        `\n${SEP}\n${buildCommit(answers, config, emoji)}${answers.release === 'yes' ? '  #release#' : ''
                        }\n${SEP}\n`
                    )
                    return messages.confirmCommit
                },
            },
        ]

        questions = questions.filter(
            (item) => !skipQuestions.includes(item.name)
        )

        if (config.askForBreakingChangeFirst) {
            const isBreaking = (oneQuestion) => oneQuestion.name === 'breaking'

            const breakingQuestion = _.filter(questions, isBreaking)
            const questionWithoutBreaking = _.reject(questions, isBreaking)

            questions = _.concat(breakingQuestion, questionWithoutBreaking)
        }

        return questions
    },
}

module.exports = {
    prompter(cz, commit) {
        const config = readConfigFile()
        config.subjectLimit = config.subjectLimit || 100
        log.info('é™¤äº†é¦–è¡Œï¼Œæ‰€æœ‰è¡Œå°†åœ¨100ä¸ªå­—ç¬¦ä½ç½®æŠ˜å ã€‚')

        const questions = myQuestions.getQuestions(config, cz)

        cz.prompt(questions).then((answers) => {
            if (answers.release === 'yes') {
                // eslint-disable-next-line no-param-reassign
                answers.subject += '#release#'
            }
            let emoji = config.types.find((e) => {
                return answers.type === e.value
            })
            if (emoji === undefined) {
                emoji = ''
            } else {
                emoji = emoji.emoji
            }
            if (answers.confirmCommit === 'edit') {
                temp.open(null, (err, info) => {
                    /* istanbul ignore else */
                    if (!err) {
                        fs.writeSync(
                            info.fd,
                            buildCommit(answers, config, emoji)
                        )
                        fs.close(info.fd, () => {
                            editor(info.path, (code) => {
                                if (code === 0) {
                                    const commitStr = fs.readFileSync(
                                        info.path,
                                        {
                                            encoding: 'utf8',
                                        }
                                    )
                                    commit(commitStr)
                                } else {
                                    log.info(
                                        `ä½ çš„Commitä¿¡æ¯æ˜¯ï¼š\n${buildCommit(
                                            answers,
                                            config,
                                            emoji
                                        )}`
                                    )
                                }
                            })
                        })
                    }
                })
            } else if (answers.confirmCommit === 'yes') {
                commit(buildCommit(answers, config, emoji))
            } else {
                log.info('å·²ç»å–æ¶ˆCommitã€‚')
            }
        })
    },
}
```

##### 2.4 gitæ¢è¡Œç¬¦é—®é¢˜

###### 2.4.1 çŸ¥è¯†èƒŒæ™¯

LFå’ŒCRLFéƒ½æ˜¯æ¢è¡Œç¬¦ï¼Œåœ¨å„æ“ä½œç³»ç»Ÿä¸‹ï¼Œæ¢è¡Œç¬¦æ˜¯ä¸ä¸€æ ·çš„ï¼ŒLinux/UNIXä¸‹æ˜¯LF,è€ŒWindowsä¸‹æ˜¯CRLFï¼Œæ—©æœŸçš„MAC OSæ˜¯CR,åæ¥çš„OS Xåœ¨æ›´æ¢å†…æ ¸åå’ŒUNIXä¸€æ ·ä¹Ÿæ˜¯LFã€‚

Git ç”±å¤§åé¼é¼çš„ Linus å¼€å‘ï¼Œæœ€åˆåªå¯è¿è¡Œäº UNIXç³»ç»Ÿï¼Œå› æ­¤æ¨èåªå°† UNIX é£æ ¼çš„æ¢è¡Œç¬¦ä¿å­˜å…¥åº“ã€‚ä½†å®ƒä¹Ÿè€ƒè™‘åˆ°äº†è·¨å¹³å°åä½œçš„åœºæ™¯ï¼Œå¹¶ä¸”æä¾›äº†ä¸€ä¸ªâ€œæ¢è¡Œç¬¦è‡ªåŠ¨è½¬æ¢â€åŠŸèƒ½ã€‚

ä¸ºäº†é¿å…å‡ºç°`CRLF`å’Œ`LF`æ··åˆçš„æƒ…å†µï¼Œå¯ä»¥é€‰æ‹©é…ç½®`â€œ.gitattributeâ€`æ–‡ä»¶æ¥ç®¡ç† Git è¯»å–ç‰¹å®šå­˜å‚¨åº“ä¸­çš„è¡Œç»“æŸç¬¦çš„æ–¹å¼ã€‚ å°†æ­¤æ–‡ä»¶æäº¤åˆ°å­˜å‚¨åº“æ—¶ï¼Œå®ƒå°†è¦†ç›–æ‰€æœ‰å­˜å‚¨åº“è´¡çŒ®è€…çš„ `core.autocrlf` è®¾ç½®ã€‚ è¿™å¯ç¡®ä¿æ‰€æœ‰ç”¨æˆ·çš„è¡Œä¸ºä¸€è‡´ï¼Œè€Œä¸ç®¡å…¶ Git è®¾ç½®å’Œç¯å¢ƒå¦‚ä½•ã€‚

###### 2.4.2 ä¿®æ”¹.gitattributesæ–‡ä»¶

```plain
* text eol=lf

# Denote all files that are truly binary and should not be modified.
*.png   binary
*.jpg   binary
*.ttf   binary
```

###### 2.4.3 ä¿®æ”¹ç¼–è¾‘å™¨vscodeé…ç½®

```plain
{
	"editor.codeActionsOnSave": {
    	"source.fixAll.eslint": true						//è®¾ç½®ä»£ç ä¿å­˜æ—¶éœ€è¦åšçš„å·¥ä½œâ€”â€”å¯ç”¨ä¿å­˜æ—¶è‡ªåŠ¨ä¿®å¤,é»˜è®¤åªæ”¯æŒ.jsæ–‡ä»¶
	},
	"editor.formatOnSave": true,
	"files.eol": "\n",										//è®¾ç½®ç¼–è¾‘å™¨è¡Œå°¾ä»¥LFæ ¼å¼ç»“å°¾ï¼Œä»¥åŒ¹é…gitè¿œç¨‹ä»£ç åº“
	"editor.defaultFormatter": "esbenp.prettier-vscode", 	//ä¸»è¦æ˜¯å› ä¸ºvscode lintè§„åˆ™ä¸project lintè§„åˆ™ä¸ä¸€è‡´ï¼Œä¿å­˜çš„æ—¶å€™æŒ‰Aè§„åˆ™formatï¼Œç¼–è¾‘ã€æäº¤æ—¶åˆæŒ‰Bè§„åˆ™æ ¡éªŒï¼Œè§„åˆ™ä¸ä¸€è‡´åˆ™æ¥å›formatã€‚
}
```

###### 2.4.4 eslinté…ç½®

åœ¨`.eslintrc.js`ä¸­æ·»åŠ ï¼š

```plain
{
	'rules': {
		'linebreak-style': [
			'error',
			'unix'
		],
	}
}
```

###### 2.4.5 prettieré…ç½®

åœ¨`.prettierrc`ä¸­æ·»åŠ ï¼š

```plain
{
	"endOfLine": "lf"
}
```

å‚è€ƒæ–‡ç« ï¼š

[win10ä¸macï¼ŒCRLFä¸LFçš„å†²çª](https://juejin.cn/post/6844904198409027597)

[linebreak-style](https://eslint.org/docs/latest/rules/linebreak-style#rule-details)

[è¯·æŠŠ .gitattributes åŠ åˆ°ä½ çš„ Git ä»“åº“ä¸­](https://blog.nowcoder.net/n/3d5eb48a17e440ae88bf9ce962266b6b)

[Git åˆå§‹åŒ–é…ç½®åŠå¸¸ç”¨å‘½ä»¤](https://blog.csdn.net/mitays/article/details/122663996)

[[gitå®˜æ–¹æ–‡æ¡£\]  é…ç½® Git å¤„ç†è¡Œç»“æŸç¬¦](https://docs.github.com/cn/get-started/getting-started-with-git/configuring-git-to-handle-line-endings#refreshing-a-repository-after-changing-line-endings)

##### 2.5 gitå¿½ç•¥æ–‡ä»¶

æ–°å¢å¹¶ç¼–è¾‘æ–‡ä»¶`.gitignore`

```
.DS_Store
node_modules
/dist

# local env files
.env.local
.env.*.local

# Log files
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*

# Editor directories and files
.idea
# .vscode
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?
```

## å®æˆ˜ï¼šé…ç½®é¡¹ç›®å·¥ç¨‹åŒ–

æˆ‘ä»¬ä»¥vite+vueé¡¹ç›®è¿›è¡Œä¸¾ä¾‹é…ç½®ï¼Œé¡¹ç›®ç©ºè„šæ‰‹æ¶åœ°å€ï¼š

[viteCli: vue3.2+router4.0+vuex4.0+typescript+vite+andesignå®ç°çš„é¡¹ç›®ç¯å¢ƒdemo (gitee.com)](https://gitee.com/waywordcode/vite-cli)



